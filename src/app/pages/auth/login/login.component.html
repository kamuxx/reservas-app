<div class="login-container">
  <div class="overlay"></div>

  <div class="login-card">
    <div class="login-header">
      <div class="logo-container">
        <i class="pi pi-lock text-3xl"></i>
      </div>
      <h2>Iniciar Sesión</h2>
      <p>O <a routerLink="/register">regístrate aquí</a></p>
    </div>

    <form [formGroup]="loginForm" (ngSubmit)="onSubmit()">
      <p-messages [value]="errorMessages" [closable]="false"></p-messages>

      <div class="form-field">
        <label for="email">Correo Electrónico</label>
        <input pInputText id="email" type="email" formControlName="email" placeholder="usuario@email.com"
          class="w-full" />
        <small *ngIf="email?.invalid && email?.touched" class="p-error">
          @if (email?.errors?.['required']) {
          El email es requerido
          }
          @if (email?.errors?.['email']) {
          Formato de email inválido
          }
        </small>
      </div>

      <div class="form-field">
        <label for="password">Contraseña</label>
        <p-password inputId="password" formControlName="password" [toggleMask]="true" [feedback]="false"
          placeholder="Ingresa tu contraseña" styleClass="w-full" [inputStyle]="{'width':'100%'}"></p-password>
        <small *ngIf="password?.invalid && password?.touched" class="p-error">
          @if (password?.errors?.['required']) {
          La contraseña es requerida
          }
          @if (password?.errors?.['minlength']) {
          Mínimo 6 caracteres
          }
        </small>
      </div>

      <div class="remember-section">
        <div class="checkbox-wrapper">
          <p-checkbox formControlName="remember" [binary]="true" inputId="remember"></p-checkbox>
          <label for="remember" class="ml-2 cursor-pointer text-gray-200">Recordarme</label>
        </div>
        <a (click)="onForgotPassword($event)" class="forgot-link text-sm text-white" role="button" tabindex="0"
          aria-label="Recuperar contraseña">¿Olvidaste tu contraseña?</a>
      </div>

      <p-button type="submit" label="Ingresar" [loading]="isLoading" [disabled]="loginForm.invalid || isLoading"
        class="w-full">
      </p-button>
    </form>
  </div>

  <p-toast position="top-right"></p-toast>
</div>