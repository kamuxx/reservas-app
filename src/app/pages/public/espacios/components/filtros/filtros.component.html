<div class="w-full md:w-72 flex-shrink-0">
    <div class="bg-white rounded-xl shadow-sm border border-slate-100 p-6 sticky top-24">
        <div class="flex items-center justify-between mb-6">
            <h2 class="text-xl font-bold text-slate-800">Filtros</h2>
            <button (click)="clearFilters()"
                class="text-sm text-emerald-600 font-medium hover:text-emerald-700 transition-colors">Limpiar</button>
        </div>

        <!-- Capacity Filter -->
        <div class="mb-8">
            <div class="flex justify-between items-center mb-3">
                <label class="text-sm font-semibold text-slate-700">Capacidad</label>
                <span id="capacity-value"
                    class="text-xs font-medium text-emerald-600 bg-emerald-50 px-2 py-1 rounded">10 pax</span>
            </div>
            <input type="range" id="capacity-range" min="1" max="50" value="10"
                (input)="setFilters($event, 'capacidad')"
                class="w-full h-2 bg-slate-200 rounded-lg appearance-none cursor-pointer accent-emerald-600">
            <div class="flex justify-between text-xs text-slate-400 mt-2">
                <span>1</span>
                <span>50+</span>
            </div>
        </div>

        <!-- Price Filter -->
        <div class="mb-8">
            <div class="flex justify-between items-center mb-3">
                <label class="text-sm font-semibold text-slate-700">Rango de Precio</label>
                <span id="price-value"
                    class="text-xs font-medium text-emerald-600 bg-emerald-50 px-2 py-1 rounded">$100/hr</span>
            </div>
            <input type="range" id="price-range" min="10" max="500" value="100" step="10"
                (input)="setFilters($event, 'precio')"
                class="w-full h-2 bg-slate-200 rounded-lg appearance-none cursor-pointer accent-emerald-600">
            <div class="flex justify-between text-xs text-slate-400 mt-2">
                <span>$10</span>
                <span>$500+</span>
            </div>
        </div>

        <!-- Date Filter -->
        <div class="mb-8">
            <div class="flex justify-between items-center mb-3">
                <label class="text-sm font-semibold text-slate-700">Fecha de Reserva</label>
                <span class="text-xs font-medium text-slate-500 bg-slate-50 px-2 py-1 rounded" id="date-display">
                    Selecciona una fecha
                </span>
            </div>
            <input type="date" id="date-filter" (change)="setFilters($event, 'fecha')" [min]="minDate"
                class="w-full px-3 py-2 border border-slate-300 rounded-lg text-sm focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 text-slate-700 font-medium transition-all hover:border-emerald-300 cursor-pointer">
            <p class="text-xs text-slate-400 mt-2">
                <svg class="w-3 h-3 inline mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                        d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                </svg>
                Ver disponibilidad en tiempo real
            </p>
        </div>

        <!-- Type Filter -->
        <div class="mb-6">
            <label class="block text-sm font-semibold text-slate-700 mb-3">Tipo de Espacio</label>
            <div class="space-y-3">
                @for (tipo of tipos; track $index) {
                <label class="flex items-center group cursor-pointer">
                    <input type="checkbox" (change)="setFilters($event, 'tipo')" [value]="tipo.key"
                        class="w-4 h-4 rounded text-emerald-600 focus:ring-emerald-500 border-gray-300 transition-colors">
                    <span
                        class="ml-3 text-sm text-slate-600 group-hover:text-emerald-700 transition-colors">{{tipo.value}}</span>
                </label>
                }
            </div>
        </div>

        <!-- Amenities Filter -->
        <div class="mb-6">
            <label class="block text-sm font-semibold text-slate-700 mb-3">Amenidades</label>
            <div class="space-y-3">
                @for (amenidad of amenidades; track $index) {
                <label class="flex items-center group cursor-pointer">
                    <input type="checkbox" (change)="setFilters($event, 'amenidad')" [value]="amenidad.key"
                        class="w-4 h-4 rounded text-emerald-600 focus:ring-emerald-500 border-gray-300 transition-colors">
                    <span
                        class="ml-3 text-sm text-slate-600 group-hover:text-emerald-700 transition-colors flex items-center gap-2">
                        @if(amenidad.key === 'wifi'){
                        <svg class="w-4 h-4 text-slate-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                d="M8.111 16.404a5.5 5.5 0 017.778 0M12 20h.01m-7.08-7.071c3.904-3.905 10.236-3.905 14.141 0M1.394 9.393c5.857-5.857 15.355-5.857 21.213 0">
                            </path>
                        </svg>
                        }
                        @if(amenidad.key === 'proyector'){
                        <svg class="w-4 h-4 text-slate-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                d="M9.75 17L9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z">
                            </path>
                        </svg>
                        }
                        @if(amenidad.key === 'cafe'){
                        <svg class="w-4 h-4 text-slate-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                d="M19.428 15.428a2 2 0 00-1.022-.547l-2.384-.477a6 6 0 00-3.86.517l-.318.158a6 6 0 01-3.86.517L6.05 15.21a2 2 0 00-1.806.547M8 4h8l-1 1v5.172a2 2 0 00.586 1.414l5 5c1.26 1.26.367 3.414-1.415 3.414H4.828c-1.782 0-2.674-2.154-1.414-3.414l5-5A2 2 0 009 10.172V5L8 4z">
                            </path>
                        </svg>
                        }
                        @if(amenidad.key === 'pizarra'){
                        <svg class="w-4 h-4 text-slate-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01">
                            </path>
                        </svg>
                        }
                        @if(amenidad.key === 'videoconferencia'){
                        <svg class="w-4 h-4 text-slate-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                d="M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z">
                            </path>
                        </svg>
                        }
                        @if(amenidad.key === 'aire'){
                        <svg class="w-4 h-4 text-slate-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                d="M3 15a4 4 0 004 4h9a5 5 0 10-.1-9.999 5.002 5.002 0 10-9.78 2.096A4.001 4.001 0 003 15z">
                            </path>
                        </svg>
                        }
                        @if(amenidad.key === 'estacionamiento'){
                        <svg class="w-4 h-4 text-slate-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z">
                            </path>
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"></path>
                        </svg>
                        }
                        @if(amenidad.key === 'catering'){
                        <svg class="w-4 h-4 text-slate-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                d="M12 6v6m0 0v6m0-6h6m-6 0H6"></path>
                        </svg>
                        }
                        {{amenidad.value}}
                    </span>
                </label>
                }
            </div>
        </div>
    </div>
</div>