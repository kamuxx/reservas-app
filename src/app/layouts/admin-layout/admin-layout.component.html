<div id="admin-layout">

  <!-- Overlay solo para Móvil -->
  @if (sidebarVisible()) {
  <div class="fixed inset-0 z-40 sidebar-overlay lg:hidden transition-opacity" (click)="toggleSidebar()">
  </div>
  }

  <!-- Sidebar -->
  <aside class="glass-sidebar sidebar-area" [class.open]="sidebarVisible()" [class.closed]="!sidebarVisible()">

    <!-- Header del Sidebar -->
    <div class="h-16 flex items-center justify-center border-b border-emerald-600/30 shrink-0">
      <div class="flex items-center gap-3">
        <div class="logo-icon">
          <i class="pi pi-shield text-xl"></i>
        </div>
        <span class="text-xl font-bold text-white tracking-wide">ADMIN</span>
      </div>
    </div>

    <!-- Menú Scrollable -->
    <div class="flex-1 overflow-y-auto py-4 px-2 custom-scrollbar">
      <app-sidebar [model]="userMenuItems"></app-sidebar>
    </div>
  </aside>

  <!-- Contenido Principal -->
  <div class="content-area">
    <!-- Topbar -->
    <header
      class="h-16 glass-header border-b border-emerald-600/30 flex items-center justify-between px-4 lg:px-6 z-30 shrink-0">

      <!-- Botón Toggle (Solo Móvil) -->
      <button
        class="p-2 text-gray-200 hover:text-white rounded-lg hover:bg-emerald-600/20 transition-colors focus:outline-none lg:hidden mobile-toggle"
        (click)="toggleSidebar()" aria-label="Toggle sidebar">
        <i class="pi pi-bars text-xl"></i>
      </button>

      <div class="flex-1"></div>

      <div class="flex items-center gap-4">
        <div class="user-avatar-wrapper">
          <p-avatar [label]="userInitial" size="normal" class="emerald-avatar">
          </p-avatar>
        </div>
        <div class="hidden md:block">
          <p class="text-sm font-semibold text-white">{{ userName }}</p>
          <p class="text-xs text-emerald-300">Administrador</p>
        </div>
        <p-menubar [model]="navbarItems" styleClass="glass-menubar border-none bg-transparent text-gray-50" />
      </div>
    </header>

    <main class="flex-1 overflow-y-auto p-4 lg:p-8 scroll-smooth relative">
      <router-outlet></router-outlet>
    </main>
  </div>
</div>